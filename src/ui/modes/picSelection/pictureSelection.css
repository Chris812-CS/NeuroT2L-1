/* src/ui/modes/picSelection/pictureSelection.css */

.psPage {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  border-radius: 22px;
}

/* background */
.psBg {
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  /* calmer, less distractive */
  filter: blur(2px) saturate(0.7) brightness(0.92) contrast(0.98);
  transform: scale(1.03);
}

.psBgOverlay {
  position: absolute;
  inset: 0;
  background:
    linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.28)),
    radial-gradient(
      circle at 20% 15%,
      rgba(255, 255, 255, 0.18),
      rgba(255, 255, 255, 0.10) 45%,
      rgba(255, 255, 255, 0.14)
    );
}

/* sparkles */
.psSparkles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.35;
  background-image:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,0.55) 0 2px, transparent 3px),
    radial-gradient(circle at 60% 40%, rgba(255,255,255,0.40) 0 1.5px, transparent 3px),
    radial-gradient(circle at 75% 70%, rgba(255,255,255,0.32) 0 1.5px, transparent 3px),
    radial-gradient(circle at 35% 80%, rgba(255,255,255,0.38) 0 2px, transparent 3px);
  filter: blur(0.2px);
}

/* prompt + target */
.psPrompt {
  position: relative;
  z-index: 2;
  padding: 18px;
  text-align: center;
  padding-top: 26px;
}

.psPromptText {
  font-weight: 900;
  font-size: 44px;
  color: rgba(20, 28, 45, 0.82);
  text-shadow: 0 1px 0 rgba(255,255,255,0.55);
  margin: 6px 0 14px;
}

.psTargetWrap {
  display: grid;
  place-items: center;
  margin-top: 8px;
}

.psTargetGlow {
  width: 160px;
  height: 160px;
  border-radius: 9999px;

  background:
    radial-gradient(circle at 30% 25%, rgba(255,255,255,0.78), rgba(255,255,255,0.22) 55%, rgba(255,255,255,0.12)),
    linear-gradient(180deg, rgba(255,255,255,0.45), rgba(255,255,255,0.18));

  box-shadow:
    0 20px 48px rgba(0,0,0,0.14),
    inset 0 0 0 2px rgba(255,255,255,0.75);

  display: grid;
  place-items: center;

  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}

.psTargetGlow.isCorrect {
  box-shadow:
    0 22px 54px rgba(0,0,0,0.14),
    0 0 0 6px rgba(48, 200, 130, 0.18),
    inset 0 0 0 2px rgba(255,255,255,0.75);
}

.psTargetImg {
  width: 72%;
  height: 72%;
  object-fit: contain;
  user-select: none;
  -webkit-user-drag: none;
}

.psTargetFallback {
  width: 70%;
  height: 70%;
  border-radius: 24px;
  background: rgba(0,0,0,0.08);
}

/* choices grid */
.psChoices {
  position: relative;
  z-index: 2;
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 16px;
  padding: 10px 18px 18px;
}

.psChoices::before {
  content: "";
  position: absolute;
  inset: -10px 10px -12px 10px;
  border-radius: 26px;
  background: rgba(255,255,255,0.14);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.28);
  pointer-events: none;
  z-index: -1;
}

/* card button */
.psCard {
  border: 0;
  padding: 0;
  cursor: pointer;
  background: transparent;
  -webkit-tap-highlight-color: transparent;
}

/* UPDATED: calmer, more solid, cleaner layout */
.psCardInner {
  position: relative;
  border-radius: 24px;
  padding: 16px 14px 14px;

  background: rgba(255, 255, 255, 0.78);
  box-shadow:
    0 14px 34px rgba(0,0,0,0.12),
    inset 0 0 0 2px rgba(255,255,255,0.75);

  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);

  transition: transform 140ms ease, box-shadow 140ms ease;
  min-height: 170px;

  display: grid;
  grid-template-rows: 1fr auto;
  align-items: center;
}

.psCard:hover .psCardInner {
  transform: translateY(-1px);
  box-shadow:
    0 16px 38px rgba(0,0,0,0.13),
    inset 0 0 0 2px rgba(255,255,255,0.82);
}

/* icon */
.psCardImgWrap {
  width: 100%;
  height: 110px;
  display: grid;
  place-items: center;
}

.psCardImg {
  width: 92px;
  height: 92px;
  object-fit: contain;
  user-select: none;
  -webkit-user-drag: none;
  filter: drop-shadow(0 10px 16px rgba(0,0,0,0.10));
}

.psCardImgFallback {
  width: 92px;
  height: 92px;
  border-radius: 20px;
  background: rgba(0,0,0,0.08);
}

/* label pill */
.psCardLabel {
  margin-top: 8px;
  font-size: 22px;
  font-weight: 900;
  color: rgba(20, 28, 45, 0.88);
  text-align: center;

  display: inline-block;
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(255,255,255,0.72);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.55);
}

/* feedback states */
.psCard.isCorrect .psCardInner {
  box-shadow:
    0 18px 46px rgba(0,0,0,0.14),
    0 0 0 6px rgba(48, 200, 130, 0.18),
    inset 0 0 0 2px rgba(255,255,255,0.82);
}

.psCard.isWrong .psCardInner {
  box-shadow:
    0 18px 46px rgba(0,0,0,0.14),
    0 0 0 6px rgba(255, 90, 90, 0.14),
    inset 0 0 0 2px rgba(255,255,255,0.82);
}

/* hint pulse on the correct option */
.psCard.isHint .psCardInner {
  animation: psHintPulse 1.1s ease-in-out infinite;
}

@keyframes psHintPulse {
  0%   { transform: scale(1.0); }
  50%  { transform: scale(1.02); }
  100% { transform: scale(1.0); }
}

/* feedback badge */
.psBadge {
  position: absolute;
  right: 12px;
  top: 12px;
  width: 34px;
  height: 34px;
  border-radius: 9999px;
  display: grid;
  place-items: center;
  font-weight: 900;
  box-shadow: 0 10px 20px rgba(0,0,0,0.12);
}

.psBadge.ok {
  background: rgba(48, 200, 130, 0.95);
  color: #fff;
}

.psBadge.no {
  background: rgba(255, 90, 90, 0.95);
  color: #fff;
}

/* bottom buttons (optional â€” only if you render them) */
.psBottom {
  position: relative;
  z-index: 2;
  display: flex;
  justify-content: space-between;
  padding: 0 18px 18px;
  gap: 16px;
}

.psBottomBtn {
  border: 0;
  border-radius: 18px;
  height: 64px;
  min-width: 220px;
  padding: 0 18px;
  font-size: 22px;
  font-weight: 900;
  cursor: pointer;
  box-shadow: 0 12px 26px rgba(0,0,0,0.12);
}

.psBottomBtn:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

.psBack {
  background: #ffe9a8;
  color: rgba(20, 28, 45, 0.88);
}

.psHint {
  background: #ffffff;
  color: rgba(20, 28, 45, 0.88);
  border: 2px solid rgba(20, 28, 45, 0.22);
}

/* responsive */
@media (max-width: 980px) {
  .psChoices {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  .psPromptText {
    font-size: 36px;
  }
}
